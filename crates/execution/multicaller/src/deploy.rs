use std::time::Duration;

use alloy_eips::eip1559::BaseFeeParams;
use alloy_network::eip2718::Encodable2718;
use alloy_network::primitives::BlockTransactionsKind;
use alloy_network::{Ethereum, EthereumWallet, TransactionBuilder, TxSigner};
use alloy_primitives::{hex, Address, Bytes, TxKind, B256};
use alloy_provider::ext::AnvilApi;
use alloy_provider::Provider;
use alloy_rpc_types::{BlockId, BlockNumberOrTag, TransactionInput, TransactionRequest};
use alloy_rpc_types_trace::geth::AccountState;
use alloy_signer_local::PrivateKeySigner;
use alloy_transport::Transport;
use eyre::{eyre, OptionExt, Result};
use k256::SecretKey;
use lazy_static::lazy_static;
use tracing::{debug, error, info};

lazy_static! {
    //static ref NO_OWNER_CODE : Vec<u8> = hex::decode("3615612c16575f3560e01c806328472417146115b2578063fa461e33146115e357806323a69e75146115e35780638b418713146115aa57806320c13b0b14612ae75780631626ba7e14612af7578063f04f2707146100e9578063ab6291fe146115ba578063923b8a2a146115c25750606435806080146100b75750604435806060146115e35750600435806020146100af5750602435806040146100af57506084358060a0146100af5750612c16565b600401611665565b8035601414612b07575060243580156100d2576020526100da565b506044356020525b60205f52606435600401611665565b5060643560040180358091602001610120375961010052610120016101205b8080518060f01c806180001615156101fd57828260b01c62ffffff1680156101b9578062ffffff146101b9579081610fff160181600c1c60ff1680156101b757908260141c60071660051b6020018362800000161561016957602090035f51035b905b8215156101795750506101b1565b826020116101985781518152602001906020019160209003919061016b565b905160018360031b1b6001900380199116908251161790525b506101bb565b505b505b5061ffff1680156115575780617ffc146102b55780617ffe14610dc65780617ffb146104325780617fff14610e5f5780617ffd14610ef85780617ffa1461035e575b508060b01c697fffffffffffffffffff1691908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af115612c1a579491505015156102ab578060c81c62ffffff1680156102a9578062ffffff146102a95780610fff1681600c1c60ff16908260141c60071660051b836280000016156102a4575f510380830160051c60051b83601f16156102a1576020015f81525b5f525b6020013e5b505b505060200161155d565b505f91908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af115612c1a57949150501515610354578060c81c62ffffff168015610352578062ffffff146103525780610fff1681600c1c60ff16908260141c60071660051b8362800000161561034d575f510380830160051c60051b83601f161561034a576020015f81525b5f525b6020013e5b505b505060200161155d565b508060b01c62ffffff168060141c60071660051b6020018162800000161561038857602090035f51035b51905091908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af115612c1a57949150501515610428578060c81c62ffffff168015610426578062ffffff146104265780610fff1681600c1c60ff16908260141c60071660051b83628000001615610421575f510380830160051c60051b83601f161561041e576020015f81525b5f525b6020013e5b505b505060200161155d565b5060a01c61ffff16600c0190600c015b805160f81c8015610db5576010811161056157806001146104cb57806002146104d657806003146104e157806004146104ec57806005146104f75780600614610502578060071461050d57806008146105185780600a1461052b5780600b146105345780600c1461053d5780600d146105465780600e1461054f5780600f146105585750610db5565b506020516001610dad565b506040516001610dad565b506060516001610dad565b506080516001610dad565b5060a0516001610dad565b5060c0516001610dad565b5060e0516001610dad565b505f51805190602090035f526001610dad565b50476001610dad565b50416001610dad565b50426001610dad565b50436001610dad565b50486001610dad565b503a6001610dad565b60208110156106a057806011146105e857806012146105f357806013146105fe57806014146106095780601514610614578060161461061f578060171461062a578060181461063557806019146106405780601a1461064a5780601b1461065e5780601c146106725780601d1461067f5780601e1461068c5780601f146106965750610db5565b509190016001610dad565b509190036001610dad565b509190026001610dad565b509190046001610dad565b509190056001610dad565b509190166001610dad565b509190176001610dad565b509190186001610dad565b5090196001610dad565b50806001015160f81c9091901b6002610dad565b50806001015160f81c9091901c6002610dad565b5090600190016001610dad565b5090600190036001610dad565b5091036001610dad565b5091046001610dad565b60308110156107d657806020146106ef578060211461070057806022146107105780602314610734578060241461074b578060251461076857806026146107875780602a146107aa5750610db5565b5080600101516021610dad56610db5565b50806001015160ff166002610dad565b50806001015161ffff166003610dad565b50806001015163ffffffff166005610dad565b50806001015167ffffffffffffffff166009610dad565b5080600101516dffffffffffffffffffffffffffff166007610dad565b5080600101516fffffffffffffffffffffffffffffffff166009610dad565b50806001015173ffffffffffffffffffffffffffffffffffffffff16600d610dad565b50907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff90026001610dad565b6030811015610894578060311461080d578060321461081857806033146108325780603414610844578060351461085c5750610db5565b5060ff166001610dad565b5061ffff166001610dad565b5063ffffffff166001610dad565b5067ffffffffffffffff166001610dad565b506dffffffffffffffffffffffffffff166001610dad565b506fffffffffffffffffffffffffffffffff166001610dad565b5073ffffffffffffffffffffffffffffffffffffffff166001610dad565b6050811015610d275780604014610923578060411461098b57806042146109f25780604314610a5a5780604414610ac15780604514610b295780604614610b905780604714610bf55780604814610c5b5780604914610c755780604a14610c8e5780604b14610ca85780604c14610cc15780604d14610cdb5780604e14610cf45780604f14610d0b5750610db5565b50919014156109355760016001610dad565b7f455100000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901461099c5760016001610dad565b7f4e4551000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901015610a045760016001610dad565b7f4c5400000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919010610a6b5760016001610dad565b7f475445000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901115610ad35760016001610dad565b7f475400000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919011610b3a5760016001610dad565b7f4c5445000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5090610b9f5760016001610dad565b7f5a5200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b509015610c055760016001610dad565b7f4e5a52000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901415610c6d5760016001610dad565b5f5f5260205ff35b50919014610c865760016001610dad565b5f5f5260205ff35b5091901015610ca05760016001610dad565b5f5f5260205ff35b50919010610cb95760016001610dad565b5f5f5260205ff35b5091901115610cd35760016001610dad565b5f5f5260205ff35b50919011610cec5760016001610dad565b5f5f5260205ff35b5090610d035760016001610dad565b5f5f5260205ff35b509015610d1b5760016001610dad565b5f5f5260205ff3610db5565b6060811015610da75780605014610d465780605114610d7a5750610db5565b50806001015160f81c8060051b5f5103805f525f5b9060200190815101916001900391821515610d5b579150506002610dad565b50806001015160f81c5f515f5b815101906020900390916001900391821515610d87579150506002610dad565b50610db5565b909101610442565b50505f516020019081525f5261155d565b508073ffffffffffffffffffffffffffffffffffffffff168160a01c61ffff165f5f8260208701855afa15612c1a5792505060c81c62ffffff168015610e56578062ffffff14610e565780610fff1681600c1c60ff16908260141c60071660051b83628000001615610e51575f510380830160051c60051b83601f1615610e4e576020015f81525b5f525b6020013e5b5060200161155d565b508073ffffffffffffffffffffffffffffffffffffffff168160a01c61ffff165f5f8260208701855af415612c1a5792505060c81c62ffffff168015610eef578062ffffff14610eef5780610fff1681600c1c60ff16908260141c60071660051b83628000001615610eea575f510380830160051c60051b83601f1615610ee7576020015f81525b5f525b6020013e5b5060200161155d565b508060a01c61ffff1682600c015160e01c8063a85f1d24146113895780634df86adf146112a457806305ec9cad146114445780639b81788b14610f8c5780638bceaa1814610fef57806384f16ca01461105157806395b66162146110b45780639a23842e146111165780634fae2f231461117a578063a9f2812f146111dd578063f93a171614611241576199995f5260205ffd5b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa15610fc957905080602001519051610fce565b50505f5f5b9082026127100291900390910290046001015f516020019081525f5261154c565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa1561102c57905080602001519051611031565b50505f5f5b82026127100291900390910290046001015f516020019081525f5261154c565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa1561108e57905080602001519051611093565b50505f5f5b9090919092029182029190612710020190045f516020019081525f5261154c565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa156110f1579050806020015190516110f6565b50505f5f5b90919092029182029190612710020190045f516020019081525f5261154c565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa1561115457905080602001519051611159565b50505f5f5b9082026127100291900390910290046001015f516020019081525f5261154c565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa156111b8579050806020015190516111bd565b50505f5f5b82026127100291900390910290046001015f516020019081525f5261154c565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa1561121b57905080602001519051611220565b50505f5f5b9090919092029182029190612710020190045f516020019081525f5261154c565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa1561127f57905080602001519051611284565b50505f5f5b90919092029182029190612710020190045f516020019081525f5261154c565b5083600c0180600401518160240151826044015182610100516370a082318152308160200152602081602483601c01855afa15612c1a575180156112e757600190035b80841115611345577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b85606401516101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af15050508015611380575f5f5f5f84415af1505b5050505061154c565b5083600c0180600401518160240151826044015182610100516370a082318152308160200152602081602483601c01855afa15612c1a575180156113cc57600190035b8084111561142a577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5050801561143c575f5f5f5f84415af1505b50505061154c565b5083600c0173c02aaa39b223fe8d0a0e5c4f27ead9083c756cc28160040151826024015182610100516370a082318152308160200152602081602483601c01855afa15612c1a5751801561149757600190035b808411156114f5577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b61010051632e1a7d4d81529081602001525f5f602483601c015f73c02aaa39b223fe8d0a0e5c4f27ead9083c756cc25af150508115611538575f5f5f5f85415af1505b84604401515f5f5f475f945af15050505050505b915050600c0161155d565b5061ffff015b01818110610108575b505060043560240135602435602401356044356024013501336101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af1505050612c22565b506084611665565b506024611665565b506004611665565b6044356004018035601414612bcf575060043560405260243560205261165a565b506044356004018035601414612bcf57506004355f811261162e576040526024357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0260205261165a565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff026020526024356040525b60405f526044356004015b80358091602001610120375961010052610120016101205b8080518060f01c8061800016151561177257828260b01c62ffffff16801561172e578062ffffff1461172e579081610fff160181600c1c60ff16801561172c57908260141c60071660051b602001836280000016156116de57602090035f51035b905b8215156116ee575050611726565b8260201161170d578151815260200190602001916020900391906116e0565b905160018360031b1b6001900380199116908251161790525b50611730565b505b505b5061ffff168015612acc5780617ffc1461182a5780617ffe1461233b5780617ffb146119a75780617fff146123d45780617ffd1461246d5780617ffa146118d3575b508060b01c697fffffffffffffffffff1691908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af115612c1a57949150501515611820578060c81c62ffffff16801561181e578062ffffff1461181e5780610fff1681600c1c60ff16908260141c60071660051b83628000001615611819575f510380830160051c60051b83601f1615611816576020015f81525b5f525b6020013e5b505b5050602001612ad2565b505f91908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af115612c1a579491505015156118c9578060c81c62ffffff1680156118c7578062ffffff146118c75780610fff1681600c1c60ff16908260141c60071660051b836280000016156118c2575f510380830160051c60051b83601f16156118bf576020015f81525b5f525b6020013e5b505b5050602001612ad2565b508060b01c62ffffff168060141c60071660051b602001816280000016156118fd57602090035f51035b51905091908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af115612c1a5794915050151561199d578060c81c62ffffff16801561199b578062ffffff1461199b5780610fff1681600c1c60ff16908260141c60071660051b83628000001615611996575f510380830160051c60051b83601f1615611993576020015f81525b5f525b6020013e5b505b5050602001612ad2565b5060a01c61ffff16600c0190600c015b805160f81c801561232a5760108111611ad65780600114611a405780600214611a4b5780600314611a565780600414611a615780600514611a6c5780600614611a775780600714611a825780600814611a8d5780600a14611aa05780600b14611aa95780600c14611ab25780600d14611abb5780600e14611ac45780600f14611acd575061232a565b506020516001612322565b506040516001612322565b506060516001612322565b506080516001612322565b5060a0516001612322565b5060c0516001612322565b5060e0516001612322565b505f51805190602090035f526001612322565b50476001612322565b50416001612322565b50426001612322565b50436001612322565b50486001612322565b503a6001612322565b6020811015611c155780601114611b5d5780601214611b685780601314611b735780601414611b7e5780601514611b895780601614611b945780601714611b9f5780601814611baa5780601914611bb55780601a14611bbf5780601b14611bd35780601c14611be75780601d14611bf45780601e14611c015780601f14611c0b575061232a565b509190016001612322565b509190036001612322565b509190026001612322565b509190046001612322565b509190056001612322565b509190166001612322565b509190176001612322565b509190186001612322565b5090196001612322565b50806001015160f81c9091901b6002612322565b50806001015160f81c9091901c6002612322565b5090600190016001612322565b5090600190036001612322565b5091036001612322565b5091046001612322565b6030811015611d4b5780602014611c645780602114611c755780602214611c855780602314611ca95780602414611cc05780602514611cdd5780602614611cfc5780602a14611d1f575061232a565b50806001015160216123225661232a565b50806001015160ff166002612322565b50806001015161ffff166003612322565b50806001015163ffffffff166005612322565b50806001015167ffffffffffffffff166009612322565b5080600101516dffffffffffffffffffffffffffff166007612322565b5080600101516fffffffffffffffffffffffffffffffff166009612322565b50806001015173ffffffffffffffffffffffffffffffffffffffff16600d612322565b50907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff90026001612322565b6030811015611e095780603114611d825780603214611d8d5780603314611da75780603414611db95780603514611dd1575061232a565b5060ff166001612322565b5061ffff166001612322565b5063ffffffff166001612322565b5067ffffffffffffffff166001612322565b506dffffffffffffffffffffffffffff166001612322565b506fffffffffffffffffffffffffffffffff166001612322565b5073ffffffffffffffffffffffffffffffffffffffff166001612322565b605081101561229c5780604014611e985780604114611f005780604214611f675780604314611fcf5780604414612036578060451461209e5780604614612105578060471461216a57806048146121d057806049146121ea5780604a146122035780604b1461221d5780604c146122365780604d146122505780604e146122695780604f14612280575061232a565b5091901415611eaa5760016001612322565b7f455100000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919014611f115760016001612322565b7f4e4551000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901015611f795760016001612322565b7f4c5400000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919010611fe05760016001612322565b7f475445000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919011156120485760016001612322565b7f475400000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b509190116120af5760016001612322565b7f4c5445000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50906121145760016001612322565b7f5a5200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50901561217a5760016001612322565b7f4e5a52000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919014156121e25760016001612322565b5f5f5260205ff35b509190146121fb5760016001612322565b5f5f5260205ff35b50919010156122155760016001612322565b5f5f5260205ff35b5091901061222e5760016001612322565b5f5f5260205ff35b50919011156122485760016001612322565b5f5f5260205ff35b509190116122615760016001612322565b5f5f5260205ff35b50906122785760016001612322565b5f5f5260205ff35b5090156122905760016001612322565b5f5f5260205ff361232a565b606081101561231c57806050146122bb57806051146122ef575061232a565b50806001015160f81c8060051b5f5103805f525f5b90602001908151019160019003918215156122d0579150506002612322565b50806001015160f81c5f515f5b8151019060209003909160019003918215156122fc579150506002612322565b5061232a565b9091016119b7565b50505f516020019081525f52612ad2565b508073ffffffffffffffffffffffffffffffffffffffff168160a01c61ffff165f5f8260208701855afa15612c1a5792505060c81c62ffffff1680156123cb578062ffffff146123cb5780610fff1681600c1c60ff16908260141c60071660051b836280000016156123c6575f510380830160051c60051b83601f16156123c3576020015f81525b5f525b6020013e5b50602001612ad2565b508073ffffffffffffffffffffffffffffffffffffffff168160a01c61ffff165f5f8260208701855af415612c1a5792505060c81c62ffffff168015612464578062ffffff146124645780610fff1681600c1c60ff16908260141c60071660051b8362800000161561245f575f510380830160051c60051b83601f161561245c576020015f81525b5f525b6020013e5b50602001612ad2565b508060a01c61ffff1682600c015160e01c8063a85f1d24146128fe5780634df86adf1461281957806305ec9cad146129b95780639b81788b146125015780638bceaa181461256457806384f16ca0146125c657806395b66162146126295780639a23842e1461268b5780634fae2f23146126ef578063a9f2812f14612752578063f93a1716146127b6576199995f5260205ffd5b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa1561253e57905080602001519051612543565b50505f5f5b9082026127100291900390910290046001015f516020019081525f52612ac1565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa156125a1579050806020015190516125a6565b50505f5f5b82026127100291900390910290046001015f516020019081525f52612ac1565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa1561260357905080602001519051612608565b50505f5f5b9090919092029182029190612710020190045f516020019081525f52612ac1565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa156126665790508060200151905161266b565b50505f5f5b90919092029182029190612710020190045f516020019081525f52612ac1565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa156126c9579050806020015190516126ce565b50505f5f5b9082026127100291900390910290046001015f516020019081525f52612ac1565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa1561272d57905080602001519051612732565b50505f5f5b82026127100291900390910290046001015f516020019081525f52612ac1565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa1561279057905080602001519051612795565b50505f5f5b9090919092029182029190612710020190045f516020019081525f52612ac1565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa156127f4579050806020015190516127f9565b50505f5f5b90919092029182029190612710020190045f516020019081525f52612ac1565b5083600c0180600401518160240151826044015182610100516370a082318152308160200152602081602483601c01855afa15612c1a5751801561285c57600190035b808411156128ba577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b85606401516101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af150505080156128f5575f5f5f5f84415af1505b50505050612ac1565b5083600c0180600401518160240151826044015182610100516370a082318152308160200152602081602483601c01855afa15612c1a5751801561294157600190035b8084111561299f577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b505080156129b1575f5f5f5f84415af1505b505050612ac1565b5083600c0173c02aaa39b223fe8d0a0e5c4f27ead9083c756cc28160040151826024015182610100516370a082318152308160200152602081602483601c01855afa15612c1a57518015612a0c57600190035b80841115612a6a577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b61010051632e1a7d4d81529081602001525f5f602483601c015f73c02aaa39b223fe8d0a0e5c4f27ead9083c756cc25af150508115612aad575f5f5f5f85415af1505b84604401515f5f5f475f945af15050505050505b915050600c01612ad2565b5061ffff015b0181811061167d575b505060205f51f3612c22565b506320c13b0b60e01b5f5260205ff35b50631626ba7e60e01b5f5260205ff35b6020013560601c6024358015612b5e573361010051630902f1ac8152606081600483601c01855afa15612b4257905080602001519051612b47565b50505f5f5b908202612710029190039091029004600101612ba4565b506044353361010051630902f1ac8152606081600483601c01855afa15612b8d57905080602001519051612b92565b50505f5f5b82026127100291900390910290046001015b336101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af15050505f5ff35b6020013560601c600435805f9012612be657612beb565b506024355b336101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af15050505f5ff35b5f5ff35b3d5f5f3e3d5ffd5b").unwrap();
    static ref NO_OWNER_CODE : Vec<u8> =   hex::decode("3615612d38575f3560e01c80632847241714611643578063fa461e331461167457806323a69e75146116745780638b4187131461163b57806320c13b0b14612c065780631626ba7e14612c16578063f04f2707146100ec57806391dd73461461164b578063923b8a2a146116535750606435806080146100b75750604435806060146116745750600435806020146100af5750602435806040146100af57506084358060a0146100af5750612d38565b6004016116f6565b8060040135601414612c26575060243580156100d5576020526100dd565b506044356020525b60205f526064356004016116f6565b5060643560040180358091602001610120375961010052610120016101205b8080518060f01c8061800016151561020057828260b01c62ffffff1680156101bc578062ffffff146101bc579081610fff160181600c1c60ff1680156101ba57908260141c60071660051b6020018362800000161561016c57602090035f51035b905b82151561017c5750506101b4565b8260201161019b5781518152602001906020019160209003919061016e565b905160018360031b1b6001900380199116908251161790525b506101be565b505b505b5061ffff1680156115e85780617ffc146102b85780617ffe14610dc95780617ffb146104355780617fff14610e625780617ffd14610efb5780617ffa14610361575b508060b01c697fffffffffffffffffff1691908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af115612d3c579491505015156102ae578060c81c62ffffff1680156102ac578062ffffff146102ac5780610fff1681600c1c60ff16908260141c60071660051b836280000016156102a7575f510380830160051c60051b83601f16156102a4576020015f81525b5f525b6020013e5b505b50506020016115ee565b505f91908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af115612d3c57949150501515610357578060c81c62ffffff168015610355578062ffffff146103555780610fff1681600c1c60ff16908260141c60071660051b83628000001615610350575f510380830160051c60051b83601f161561034d576020015f81525b5f525b6020013e5b505b50506020016115ee565b508060b01c62ffffff168060141c60071660051b6020018162800000161561038b57602090035f51035b51905091908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af115612d3c5794915050151561042b578060c81c62ffffff168015610429578062ffffff146104295780610fff1681600c1c60ff16908260141c60071660051b83628000001615610424575f510380830160051c60051b83601f1615610421576020015f81525b5f525b6020013e5b505b50506020016115ee565b5060a01c61ffff16600c0190600c015b805160f81c8015610db8576010811161056457806001146104ce57806002146104d957806003146104e457806004146104ef57806005146104fa57806006146105055780600714610510578060081461051b5780600a1461052e5780600b146105375780600c146105405780600d146105495780600e146105525780600f1461055b5750610db8565b506020516001610db0565b506040516001610db0565b506060516001610db0565b506080516001610db0565b5060a0516001610db0565b5060c0516001610db0565b5060e0516001610db0565b505f51805190602090035f526001610db0565b50476001610db0565b50416001610db0565b50426001610db0565b50436001610db0565b50486001610db0565b503a6001610db0565b60208110156106a357806011146105eb57806012146105f65780601314610601578060141461060c57806015146106175780601614610622578060171461062d578060181461063857806019146106435780601a1461064d5780601b146106615780601c146106755780601d146106825780601e1461068f5780601f146106995750610db8565b509190016001610db0565b509190036001610db0565b509190026001610db0565b509190046001610db0565b509190056001610db0565b509190166001610db0565b509190176001610db0565b509190186001610db0565b5090196001610db0565b50806001015160f81c9091901b6002610db0565b50806001015160f81c9091901c6002610db0565b5090600190016001610db0565b5090600190036001610db0565b5091036001610db0565b5091046001610db0565b60308110156107d957806020146106f2578060211461070357806022146107135780602314610737578060241461074e578060251461076b578060261461078a5780602a146107ad5750610db8565b5080600101516021610db056610db8565b50806001015160ff166002610db0565b50806001015161ffff166003610db0565b50806001015163ffffffff166005610db0565b50806001015167ffffffffffffffff166009610db0565b5080600101516dffffffffffffffffffffffffffff166007610db0565b5080600101516fffffffffffffffffffffffffffffffff166009610db0565b50806001015173ffffffffffffffffffffffffffffffffffffffff16600d610db0565b50907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff90026001610db0565b60308110156108975780603114610810578060321461081b57806033146108355780603414610847578060351461085f5750610db8565b5060ff166001610db0565b5061ffff166001610db0565b5063ffffffff166001610db0565b5067ffffffffffffffff166001610db0565b506dffffffffffffffffffffffffffff166001610db0565b506fffffffffffffffffffffffffffffffff166001610db0565b5073ffffffffffffffffffffffffffffffffffffffff166001610db0565b6050811015610d2a5780604014610926578060411461098e57806042146109f55780604314610a5d5780604414610ac45780604514610b2c5780604614610b935780604714610bf85780604814610c5e5780604914610c785780604a14610c915780604b14610cab5780604c14610cc45780604d14610cde5780604e14610cf75780604f14610d0e5750610db8565b50919014156109385760016001610db0565b7f455100000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901461099f5760016001610db0565b7f4e4551000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901015610a075760016001610db0565b7f4c5400000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919010610a6e5760016001610db0565b7f475445000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901115610ad65760016001610db0565b7f475400000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919011610b3d5760016001610db0565b7f4c5445000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5090610ba25760016001610db0565b7f5a5200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b509015610c085760016001610db0565b7f4e5a52000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901415610c705760016001610db0565b5f5f5260205ff35b50919014610c895760016001610db0565b5f5f5260205ff35b5091901015610ca35760016001610db0565b5f5f5260205ff35b50919010610cbc5760016001610db0565b5f5f5260205ff35b5091901115610cd65760016001610db0565b5f5f5260205ff35b50919011610cef5760016001610db0565b5f5f5260205ff35b5090610d065760016001610db0565b5f5f5260205ff35b509015610d1e5760016001610db0565b5f5f5260205ff3610db8565b6060811015610daa5780605014610d495780605114610d7d5750610db8565b50806001015160f81c8060051b5f5103805f525f5b9060200190815101916001900391821515610d5e579150506002610db0565b50806001015160f81c5f515f5b815101906020900390916001900391821515610d8a579150506002610db0565b50610db8565b909101610445565b50505f516020019081525f526115ee565b508073ffffffffffffffffffffffffffffffffffffffff168160a01c61ffff165f5f8260208701855afa15612d3c5792505060c81c62ffffff168015610e59578062ffffff14610e595780610fff1681600c1c60ff16908260141c60071660051b83628000001615610e54575f510380830160051c60051b83601f1615610e51576020015f81525b5f525b6020013e5b506020016115ee565b508073ffffffffffffffffffffffffffffffffffffffff168160a01c61ffff165f5f8260208701855af415612d3c5792505060c81c62ffffff168015610ef2578062ffffff14610ef25780610fff1681600c1c60ff16908260141c60071660051b83628000001615610eed575f510380830160051c60051b83601f1615610eea576020015f81525b5f525b6020013e5b506020016115ee565b508060a01c61ffff1682600c015160e01c8063a85f1d24146113a25780634df86adf146112bd57806305ec9cad1461145d5780639b81788b14610fa55780638bceaa181461100857806384f16ca01461106a57806395b66162146110cd5780639a23842e1461112f5780634fae2f2314611193578063a9f2812f146111f6578063f93a17161461125a578063fcccdd98146115695780631e00cebd1461159e576199995f5260205ffd5b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa15610fe257905080602001519051610fe7565b50505f5f5b9082026127100291900390910290046001015f516020019081525f526115dd565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa156110455790508060200151905161104a565b50505f5f5b82026127100291900390910290046001015f516020019081525f526115dd565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa156110a7579050806020015190516110ac565b50505f5f5b9090919092029182029190612710020190045f516020019081525f526115dd565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa1561110a5790508060200151905161110f565b50505f5f5b90919092029182029190612710020190045f516020019081525f526115dd565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa1561116d57905080602001519051611172565b50505f5f5b9082026127100291900390910290046001015f516020019081525f526115dd565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa156111d1579050806020015190516111d6565b50505f5f5b82026127100291900390910290046001015f516020019081525f526115dd565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa1561123457905080602001519051611239565b50505f5f5b9090919092029182029190612710020190045f516020019081525f526115dd565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa156112985790508060200151905161129d565b50505f5f5b90919092029182029190612710020190045f516020019081525f526115dd565b5083600c0180600401518160240151826044015182610100516370a082318152308160200152602081602483601c01855afa15612d3c5751801561130057600190035b8084111561135e577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b85606401516101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af15050508015611399575f5f5f5f84415af1505b505050506115dd565b5083600c0180600401518160240151826044015182610100516370a082318152308160200152602081602483601c01855afa15612d3c575180156113e557600190035b80841115611443577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50508015611455575f5f5f5f84415af1505b5050506115dd565b5083600c0173c02aaa39b223fe8d0a0e5c4f27ead9083c756cc28160040151826024015182610100516370a082318152308160200152602081602483601c01855afa15612d3c575180156114b057600190035b8084111561150e577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b61010051632e1a7d4d81529081602001525f5f602483601c015f73c02aaa39b223fe8d0a0e5c4f27ead9083c756cc25af150508115611551575f5f5f5f85415af1505b84604401515f5f5f475f945af15050505050506115dd565b5083600c015f51805f01517f89af0fd11b64392b3a1ab47eb65ae5e5f01335c6fc2ac518b0fc21aa0f7ff8c65f5fa3506115dd565b5083600c018060240151906004015160051b5f5180919003517f89af0fd11b64392b3a1ab47eb65ae5e5f01335c6fc2ac518b0fc21aa0f7ff8c65f5fa3505b915050600c016115ee565b5061ffff015b0181811061010b575b505060043560240135602435602401356044356024013501336101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af1505050612d44565b5060846116f6565b5060246116f6565b5060046116f6565b6044356004018035601414612cf157506004356040526024356020526116eb565b506044356004018035601414612cf157506004355f81126116bf576040526024357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff026020526116eb565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff026020526024356040525b60405f526044356004015b80358091602001610120375961010052610120016101205b8080518060f01c8061800016151561180357828260b01c62ffffff1680156117bf578062ffffff146117bf579081610fff160181600c1c60ff1680156117bd57908260141c60071660051b6020018362800000161561176f57602090035f51035b905b82151561177f5750506117b7565b8260201161179e57815181526020019060200191602090039190611771565b905160018360031b1b6001900380199116908251161790525b506117c1565b505b505b5061ffff168015612beb5780617ffc146118bb5780617ffe146123cc5780617ffb14611a385780617fff146124655780617ffd146124fe5780617ffa14611964575b508060b01c697fffffffffffffffffff1691908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af115612d3c579491505015156118b1578060c81c62ffffff1680156118af578062ffffff146118af5780610fff1681600c1c60ff16908260141c60071660051b836280000016156118aa575f510380830160051c60051b83601f16156118a7576020015f81525b5f525b6020013e5b505b5050602001612bf1565b505f91908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af115612d3c5794915050151561195a578060c81c62ffffff168015611958578062ffffff146119585780610fff1681600c1c60ff16908260141c60071660051b83628000001615611953575f510380830160051c60051b83601f1615611950576020015f81525b5f525b6020013e5b505b5050602001612bf1565b508060b01c62ffffff168060141c60071660051b6020018162800000161561198e57602090035f51035b51905091908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af115612d3c57949150501515611a2e578060c81c62ffffff168015611a2c578062ffffff14611a2c5780610fff1681600c1c60ff16908260141c60071660051b83628000001615611a27575f510380830160051c60051b83601f1615611a24576020015f81525b5f525b6020013e5b505b5050602001612bf1565b5060a01c61ffff16600c0190600c015b805160f81c80156123bb5760108111611b675780600114611ad15780600214611adc5780600314611ae75780600414611af25780600514611afd5780600614611b085780600714611b135780600814611b1e5780600a14611b315780600b14611b3a5780600c14611b435780600d14611b4c5780600e14611b555780600f14611b5e57506123bb565b5060205160016123b3565b5060405160016123b3565b5060605160016123b3565b5060805160016123b3565b5060a05160016123b3565b5060c05160016123b3565b5060e05160016123b3565b505f51805190602090035f5260016123b3565b504760016123b3565b504160016123b3565b504260016123b3565b504360016123b3565b504860016123b3565b503a60016123b3565b6020811015611ca65780601114611bee5780601214611bf95780601314611c045780601414611c0f5780601514611c1a5780601614611c255780601714611c305780601814611c3b5780601914611c465780601a14611c505780601b14611c645780601c14611c785780601d14611c855780601e14611c925780601f14611c9c57506123bb565b5091900160016123b3565b5091900360016123b3565b5091900260016123b3565b5091900460016123b3565b5091900560016123b3565b5091901660016123b3565b5091901760016123b3565b5091901860016123b3565b50901960016123b3565b50806001015160f81c9091901b60026123b3565b50806001015160f81c9091901c60026123b3565b50906001900160016123b3565b50906001900360016123b3565b50910360016123b3565b50910460016123b3565b6030811015611ddc5780602014611cf55780602114611d065780602214611d165780602314611d3a5780602414611d515780602514611d6e5780602614611d8d5780602a14611db057506123bb565b50806001015160216123b3566123bb565b50806001015160ff1660026123b3565b50806001015161ffff1660036123b3565b50806001015163ffffffff1660056123b3565b50806001015167ffffffffffffffff1660096123b3565b5080600101516dffffffffffffffffffffffffffff1660076123b3565b5080600101516fffffffffffffffffffffffffffffffff1660096123b3565b50806001015173ffffffffffffffffffffffffffffffffffffffff16600d6123b3565b50907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff900260016123b3565b6030811015611e9a5780603114611e135780603214611e1e5780603314611e385780603414611e4a5780603514611e6257506123bb565b5060ff1660016123b3565b5061ffff1660016123b3565b5063ffffffff1660016123b3565b5067ffffffffffffffff1660016123b3565b506dffffffffffffffffffffffffffff1660016123b3565b506fffffffffffffffffffffffffffffffff1660016123b3565b5073ffffffffffffffffffffffffffffffffffffffff1660016123b3565b605081101561232d5780604014611f295780604114611f915780604214611ff8578060431461206057806044146120c7578060451461212f578060461461219657806047146121fb5780604814612261578060491461227b5780604a146122945780604b146122ae5780604c146122c75780604d146122e15780604e146122fa5780604f1461231157506123bb565b5091901415611f3b57600160016123b3565b7f455100000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919014611fa257600160016123b3565b7f4e4551000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b509190101561200a57600160016123b3565b7f4c5400000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901061207157600160016123b3565b7f475445000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919011156120d957600160016123b3565b7f475400000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901161214057600160016123b3565b7f4c5445000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50906121a557600160016123b3565b7f5a5200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50901561220b57600160016123b3565b7f4e5a52000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b509190141561227357600160016123b3565b5f5f5260205ff35b5091901461228c57600160016123b3565b5f5f5260205ff35b50919010156122a657600160016123b3565b5f5f5260205ff35b509190106122bf57600160016123b3565b5f5f5260205ff35b50919011156122d957600160016123b3565b5f5f5260205ff35b509190116122f257600160016123b3565b5f5f5260205ff35b509061230957600160016123b3565b5f5f5260205ff35b50901561232157600160016123b3565b5f5f5260205ff36123bb565b60608110156123ad578060501461234c578060511461238057506123bb565b50806001015160f81c8060051b5f5103805f525f5b90602001908151019160019003918215156123615791505060026123b3565b50806001015160f81c5f515f5b81510190602090039091600190039182151561238d5791505060026123b3565b506123bb565b909101611a48565b50505f516020019081525f52612bf1565b508073ffffffffffffffffffffffffffffffffffffffff168160a01c61ffff165f5f8260208701855afa15612d3c5792505060c81c62ffffff16801561245c578062ffffff1461245c5780610fff1681600c1c60ff16908260141c60071660051b83628000001615612457575f510380830160051c60051b83601f1615612454576020015f81525b5f525b6020013e5b50602001612bf1565b508073ffffffffffffffffffffffffffffffffffffffff168160a01c61ffff165f5f8260208701855af415612d3c5792505060c81c62ffffff1680156124f5578062ffffff146124f55780610fff1681600c1c60ff16908260141c60071660051b836280000016156124f0575f510380830160051c60051b83601f16156124ed576020015f81525b5f525b6020013e5b50602001612bf1565b508060a01c61ffff1682600c015160e01c8063a85f1d24146129a55780634df86adf146128c057806305ec9cad14612a605780639b81788b146125a85780638bceaa181461260b57806384f16ca01461266d57806395b66162146126d05780639a23842e146127325780634fae2f2314612796578063a9f2812f146127f9578063f93a17161461285d578063fcccdd9814612b6c5780631e00cebd14612ba1576199995f5260205ffd5b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa156125e5579050806020015190516125ea565b50505f5f5b9082026127100291900390910290046001015f516020019081525f52612be0565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa156126485790508060200151905161264d565b50505f5f5b82026127100291900390910290046001015f516020019081525f52612be0565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa156126aa579050806020015190516126af565b50505f5f5b9090919092029182029190612710020190045f516020019081525f52612be0565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa1561270d57905080602001519051612712565b50505f5f5b90919092029182029190612710020190045f516020019081525f52612be0565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa1561277057905080602001519051612775565b50505f5f5b9082026127100291900390910290046001015f516020019081525f52612be0565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa156127d4579050806020015190516127d9565b50505f5f5b82026127100291900390910290046001015f516020019081525f52612be0565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa156128375790508060200151905161283c565b50505f5f5b9090919092029182029190612710020190045f516020019081525f52612be0565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa1561289b579050806020015190516128a0565b50505f5f5b90919092029182029190612710020190045f516020019081525f52612be0565b5083600c0180600401518160240151826044015182610100516370a082318152308160200152602081602483601c01855afa15612d3c5751801561290357600190035b80841115612961577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b85606401516101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af1505050801561299c575f5f5f5f84415af1505b50505050612be0565b5083600c0180600401518160240151826044015182610100516370a082318152308160200152602081602483601c01855afa15612d3c575180156129e857600190035b80841115612a46577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50508015612a58575f5f5f5f84415af1505b505050612be0565b5083600c0173c02aaa39b223fe8d0a0e5c4f27ead9083c756cc28160040151826024015182610100516370a082318152308160200152602081602483601c01855afa15612d3c57518015612ab357600190035b80841115612b11577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b61010051632e1a7d4d81529081602001525f5f602483601c015f73c02aaa39b223fe8d0a0e5c4f27ead9083c756cc25af150508115612b54575f5f5f5f85415af1505b84604401515f5f5f475f945af1505050505050612be0565b5083600c015f51805f01517f89af0fd11b64392b3a1ab47eb65ae5e5f01335c6fc2ac518b0fc21aa0f7ff8c65f5fa350612be0565b5083600c018060240151906004015160051b5f5180919003517f89af0fd11b64392b3a1ab47eb65ae5e5f01335c6fc2ac518b0fc21aa0f7ff8c65f5fa3505b915050600c01612bf1565b5061ffff015b0181811061170e575b505060205f51f3612d44565b506320c13b0b60e01b5f5260205ff35b50631626ba7e60e01b5f5260205ff35b6084356020013560601c6024358015612c80573361010051630902f1ac8152606081600483601c01855afa15612c6457905080602001519051612c69565b50505f5f5b908202612710029190039091029004600101612cc6565b506044353361010051630902f1ac8152606081600483601c01855afa15612caf57905080602001519051612cb4565b50505f5f5b82026127100291900390910290046001015b336101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af15050505f5ff35b6020013560601c600435805f9012612d0857612d0d565b506024355b336101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af15050505f5ff35b5f5ff35b3d5f5f3e3d5ffd5b").unwrap();
    //static ref NO_OWNER_CODE : Vec<u8> = hex::decode("3615612d38575f3560e01c80632847241714611643578063fa461e331461167457806323a69e75146116745780638b4187131461163b57806320c13b0b14612c065780631626ba7e14612c16578063f04f2707146100ec57806391dd73461461164b578063923b8a2a146116535750606435806080146100b75750604435806060146116745750600435806020146100af5750602435806040146100af57506084358060a0146100af5750612d38565b6004016116f6565b8060040135601414612c26575060243580156100d5576020526100dd565b506044356020525b60205f526064356004016116f6565b5060643560040180358091602001610120375961010052610120016101205b8080518060f01c8061800016151561020057828260b01c62ffffff1680156101bc578062ffffff146101bc579081610fff160181600c1c60ff1680156101ba57908260141c60071660051b6020018362800000161561016c57602090035f51035b905b82151561017c5750506101b4565b8260201161019b5781518152602001906020019160209003919061016e565b905160018360031b1b6001900380199116908251161790525b506101be565b505b505b5061ffff1680156115e85780617ffc146102b85780617ffe14610dc95780617ffb146104355780617fff14610e625780617ffd14610efb5780617ffa14610361575b508060b01c697fffffffffffffffffff1691908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af115612d3c579491505015156102ae578060c81c62ffffff1680156102ac578062ffffff146102ac5780610fff1681600c1c60ff16908260141c60071660051b836280000016156102a7575f510380830160051c60051b83601f16156102a4576020015f81525b5f525b6020013e5b505b50506020016115ee565b505f91908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af115612d3c57949150501515610357578060c81c62ffffff168015610355578062ffffff146103555780610fff1681600c1c60ff16908260141c60071660051b83628000001615610350575f510380830160051c60051b83601f161561034d576020015f81525b5f525b6020013e5b505b50506020016115ee565b508060b01c62ffffff168060141c60071660051b6020018162800000161561038b57602090035f51035b51905091908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af115612d3c5794915050151561042b578060c81c62ffffff168015610429578062ffffff146104295780610fff1681600c1c60ff16908260141c60071660051b83628000001615610424575f510380830160051c60051b83601f1615610421576020015f81525b5f525b6020013e5b505b50506020016115ee565b5060a01c61ffff16600c0190600c015b805160f81c8015610db8576010811161056457806001146104ce57806002146104d957806003146104e457806004146104ef57806005146104fa57806006146105055780600714610510578060081461051b5780600a1461052e5780600b146105375780600c146105405780600d146105495780600e146105525780600f1461055b5750610db8565b506020516001610db0565b506040516001610db0565b506060516001610db0565b506080516001610db0565b5060a0516001610db0565b5060c0516001610db0565b5060e0516001610db0565b505f51805190602090035f526001610db0565b50476001610db0565b50416001610db0565b50426001610db0565b50436001610db0565b50486001610db0565b503a6001610db0565b60208110156106a357806011146105eb57806012146105f65780601314610601578060141461060c57806015146106175780601614610622578060171461062d578060181461063857806019146106435780601a1461064d5780601b146106615780601c146106755780601d146106825780601e1461068f5780601f146106995750610db8565b509190016001610db0565b509190036001610db0565b509190026001610db0565b509190046001610db0565b509190056001610db0565b509190166001610db0565b509190176001610db0565b509190186001610db0565b5090196001610db0565b50806001015160f81c9091901b6002610db0565b50806001015160f81c9091901c6002610db0565b5090600190016001610db0565b5090600190036001610db0565b5091036001610db0565b5091046001610db0565b60308110156107d957806020146106f2578060211461070357806022146107135780602314610737578060241461074e578060251461076b578060261461078a5780602a146107ad5750610db8565b5080600101516021610db056610db8565b50806001015160ff166002610db0565b50806001015161ffff166003610db0565b50806001015163ffffffff166005610db0565b50806001015167ffffffffffffffff166009610db0565b5080600101516dffffffffffffffffffffffffffff166007610db0565b5080600101516fffffffffffffffffffffffffffffffff166009610db0565b50806001015173ffffffffffffffffffffffffffffffffffffffff16600d610db0565b50907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff90026001610db0565b60308110156108975780603114610810578060321461081b57806033146108355780603414610847578060351461085f5750610db8565b5060ff166001610db0565b5061ffff166001610db0565b5063ffffffff166001610db0565b5067ffffffffffffffff166001610db0565b506dffffffffffffffffffffffffffff166001610db0565b506fffffffffffffffffffffffffffffffff166001610db0565b5073ffffffffffffffffffffffffffffffffffffffff166001610db0565b6050811015610d2a5780604014610926578060411461098e57806042146109f55780604314610a5d5780604414610ac45780604514610b2c5780604614610b935780604714610bf85780604814610c5e5780604914610c785780604a14610c915780604b14610cab5780604c14610cc45780604d14610cde5780604e14610cf75780604f14610d0e5750610db8565b50919014156109385760016001610db0565b7f455100000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901461099f5760016001610db0565b7f4e4551000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901015610a075760016001610db0565b7f4c5400000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919010610a6e5760016001610db0565b7f475445000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901115610ad65760016001610db0565b7f475400000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919011610b3d5760016001610db0565b7f4c5445000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5090610ba25760016001610db0565b7f5a5200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b509015610c085760016001610db0565b7f4e5a52000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901415610c705760016001610db0565b5f5f5260205ff35b50919014610c895760016001610db0565b5f5f5260205ff35b5091901015610ca35760016001610db0565b5f5f5260205ff35b50919010610cbc5760016001610db0565b5f5f5260205ff35b5091901115610cd65760016001610db0565b5f5f5260205ff35b50919011610cef5760016001610db0565b5f5f5260205ff35b5090610d065760016001610db0565b5f5f5260205ff35b509015610d1e5760016001610db0565b5f5f5260205ff3610db8565b6060811015610daa5780605014610d495780605114610d7d5750610db8565b50806001015160f81c8060051b5f5103805f525f5b9060200190815101916001900391821515610d5e579150506002610db0565b50806001015160f81c5f515f5b815101906020900390916001900391821515610d8a579150506002610db0565b50610db8565b909101610445565b50505f516020019081525f526115ee565b508073ffffffffffffffffffffffffffffffffffffffff168160a01c61ffff165f5f8260208701855afa15612d3c5792505060c81c62ffffff168015610e59578062ffffff14610e595780610fff1681600c1c60ff16908260141c60071660051b83628000001615610e54575f510380830160051c60051b83601f1615610e51576020015f81525b5f525b6020013e5b506020016115ee565b508073ffffffffffffffffffffffffffffffffffffffff168160a01c61ffff165f5f8260208701855af415612d3c5792505060c81c62ffffff168015610ef2578062ffffff14610ef25780610fff1681600c1c60ff16908260141c60071660051b83628000001615610eed575f510380830160051c60051b83601f1615610eea576020015f81525b5f525b6020013e5b506020016115ee565b508060a01c61ffff1682600c015160e01c8063a85f1d24146113a25780634df86adf146112bd57806305ec9cad1461145d5780639b81788b14610fa55780638bceaa181461100857806384f16ca01461106a57806395b66162146110cd5780639a23842e1461112f5780634fae2f2314611193578063a9f2812f146111f6578063f93a17161461125a578063fcccdd98146115695780631e00cebd1461159e576199995f5260205ffd5b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa15610fe257905080602001519051610fe7565b50505f5f5b9082026127100291900390910290046001015f516020019081525f526115dd565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa156110455790508060200151905161104a565b50505f5f5b82026127100291900390910290046001015f516020019081525f526115dd565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa156110a7579050806020015190516110ac565b50505f5f5b9090919092029182029190612710020190045f516020019081525f526115dd565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa1561110a5790508060200151905161110f565b50505f5f5b90919092029182029190612710020190045f516020019081525f526115dd565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa1561116d57905080602001519051611172565b50505f5f5b9082026127100291900390910290046001015f516020019081525f526115dd565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa156111d1579050806020015190516111d6565b50505f5f5b82026127100291900390910290046001015f516020019081525f526115dd565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa1561123457905080602001519051611239565b50505f5f5b9090919092029182029190612710020190045f516020019081525f526115dd565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa156112985790508060200151905161129d565b50505f5f5b90919092029182029190612710020190045f516020019081525f526115dd565b5083600c0180600401518160240151826044015182610100516370a082318152308160200152602081602483601c01855afa15612d3c5751801561130057600190035b8084111561135e577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b85606401516101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af15050508015611399575f5f5f5f84415af1505b505050506115dd565b5083600c0180600401518160240151826044015182610100516370a082318152308160200152602081602483601c01855afa15612d3c575180156113e557600190035b80841115611443577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50508015611455575f5f5f5f84415af1505b5050506115dd565b5083600c0173c02aaa39b223fe8d0a0e5c4f27ead9083c756cc28160040151826024015182610100516370a082318152308160200152602081602483601c01855afa15612d3c575180156114b057600190035b8084111561150e577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b61010051632e1a7d4d81529081602001525f5f602483601c015f73c02aaa39b223fe8d0a0e5c4f27ead9083c756cc25af150508115611551575f5f5f5f85415af1505b84604401515f5f5f475f945af15050505050506115dd565b5083600c015f51805f01517f89af0fd11b64392b3a1ab47eb65ae5e5f01335c6fc2ac518b0fc21aa0f7ff8c65f5fa3506115dd565b5083600c018060240151906004015160051b5f5180919003517f89af0fd11b64392b3a1ab47eb65ae5e5f01335c6fc2ac518b0fc21aa0f7ff8c65f5fa3505b915050600c016115ee565b5061ffff015b0181811061010b575b505060043560240135602435602401356044356024013501336101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af1505050612d44565b5060846116f6565b5060246116f6565b5060246116f6565b6044356004018035601414612cf157506004356040526024356020526116eb565b506044356004018035601414612cf157506004355f81126116bf576040526024357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff026020526116eb565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff026020526024356040525b60405f526044356004015b80358091602001610120375961010052610120016101205b8080518060f01c8061800016151561180357828260b01c62ffffff1680156117bf578062ffffff146117bf579081610fff160181600c1c60ff1680156117bd57908260141c60071660051b6020018362800000161561176f57602090035f51035b905b82151561177f5750506117b7565b8260201161179e57815181526020019060200191602090039190611771565b905160018360031b1b6001900380199116908251161790525b506117c1565b505b505b5061ffff168015612beb5780617ffc146118bb5780617ffe146123cc5780617ffb14611a385780617fff146124655780617ffd146124fe5780617ffa14611964575b508060b01c697fffffffffffffffffff1691908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af115612d3c579491505015156118b1578060c81c62ffffff1680156118af578062ffffff146118af5780610fff1681600c1c60ff16908260141c60071660051b836280000016156118aa575f510380830160051c60051b83601f16156118a7576020015f81525b5f525b6020013e5b505b5050602001612bf1565b505f91908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af115612d3c5794915050151561195a578060c81c62ffffff168015611958578062ffffff146119585780610fff1681600c1c60ff16908260141c60071660051b83628000001615611953575f510380830160051c60051b83601f1615611950576020015f81525b5f525b6020013e5b505b5050602001612bf1565b508060b01c62ffffff168060141c60071660051b6020018162800000161561198e57602090035f51035b51905091908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af115612d3c57949150501515611a2e578060c81c62ffffff168015611a2c578062ffffff14611a2c5780610fff1681600c1c60ff16908260141c60071660051b83628000001615611a27575f510380830160051c60051b83601f1615611a24576020015f81525b5f525b6020013e5b505b5050602001612bf1565b5060a01c61ffff16600c0190600c015b805160f81c80156123bb5760108111611b675780600114611ad15780600214611adc5780600314611ae75780600414611af25780600514611afd5780600614611b085780600714611b135780600814611b1e5780600a14611b315780600b14611b3a5780600c14611b435780600d14611b4c5780600e14611b555780600f14611b5e57506123bb565b5060205160016123b3565b5060405160016123b3565b5060605160016123b3565b5060805160016123b3565b5060a05160016123b3565b5060c05160016123b3565b5060e05160016123b3565b505f51805190602090035f5260016123b3565b504760016123b3565b504160016123b3565b504260016123b3565b504360016123b3565b504860016123b3565b503a60016123b3565b6020811015611ca65780601114611bee5780601214611bf95780601314611c045780601414611c0f5780601514611c1a5780601614611c255780601714611c305780601814611c3b5780601914611c465780601a14611c505780601b14611c645780601c14611c785780601d14611c855780601e14611c925780601f14611c9c57506123bb565b5091900160016123b3565b5091900360016123b3565b5091900260016123b3565b5091900460016123b3565b5091900560016123b3565b5091901660016123b3565b5091901760016123b3565b5091901860016123b3565b50901960016123b3565b50806001015160f81c9091901b60026123b3565b50806001015160f81c9091901c60026123b3565b50906001900160016123b3565b50906001900360016123b3565b50910360016123b3565b50910460016123b3565b6030811015611ddc5780602014611cf55780602114611d065780602214611d165780602314611d3a5780602414611d515780602514611d6e5780602614611d8d5780602a14611db057506123bb565b50806001015160216123b3566123bb565b50806001015160ff1660026123b3565b50806001015161ffff1660036123b3565b50806001015163ffffffff1660056123b3565b50806001015167ffffffffffffffff1660096123b3565b5080600101516dffffffffffffffffffffffffffff1660076123b3565b5080600101516fffffffffffffffffffffffffffffffff1660096123b3565b50806001015173ffffffffffffffffffffffffffffffffffffffff16600d6123b3565b50907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff900260016123b3565b6030811015611e9a5780603114611e135780603214611e1e5780603314611e385780603414611e4a5780603514611e6257506123bb565b5060ff1660016123b3565b5061ffff1660016123b3565b5063ffffffff1660016123b3565b5067ffffffffffffffff1660016123b3565b506dffffffffffffffffffffffffffff1660016123b3565b506fffffffffffffffffffffffffffffffff1660016123b3565b5073ffffffffffffffffffffffffffffffffffffffff1660016123b3565b605081101561232d5780604014611f295780604114611f915780604214611ff8578060431461206057806044146120c7578060451461212f578060461461219657806047146121fb5780604814612261578060491461227b5780604a146122945780604b146122ae5780604c146122c75780604d146122e15780604e146122fa5780604f1461231157506123bb565b5091901415611f3b57600160016123b3565b7f455100000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919014611fa257600160016123b3565b7f4e4551000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b509190101561200a57600160016123b3565b7f4c5400000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901061207157600160016123b3565b7f475445000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919011156120d957600160016123b3565b7f475400000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901161214057600160016123b3565b7f4c5445000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50906121a557600160016123b3565b7f5a5200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50901561220b57600160016123b3565b7f4e5a52000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b509190141561227357600160016123b3565b5f5f5260205ff35b5091901461228c57600160016123b3565b5f5f5260205ff35b50919010156122a657600160016123b3565b5f5f5260205ff35b509190106122bf57600160016123b3565b5f5f5260205ff35b50919011156122d957600160016123b3565b5f5f5260205ff35b509190116122f257600160016123b3565b5f5f5260205ff35b509061230957600160016123b3565b5f5f5260205ff35b50901561232157600160016123b3565b5f5f5260205ff36123bb565b60608110156123ad578060501461234c578060511461238057506123bb565b50806001015160f81c8060051b5f5103805f525f5b90602001908151019160019003918215156123615791505060026123b3565b50806001015160f81c5f515f5b81510190602090039091600190039182151561238d5791505060026123b3565b506123bb565b909101611a48565b50505f516020019081525f52612bf1565b508073ffffffffffffffffffffffffffffffffffffffff168160a01c61ffff165f5f8260208701855afa15612d3c5792505060c81c62ffffff16801561245c578062ffffff1461245c5780610fff1681600c1c60ff16908260141c60071660051b83628000001615612457575f510380830160051c60051b83601f1615612454576020015f81525b5f525b6020013e5b50602001612bf1565b508073ffffffffffffffffffffffffffffffffffffffff168160a01c61ffff165f5f8260208701855af415612d3c5792505060c81c62ffffff1680156124f5578062ffffff146124f55780610fff1681600c1c60ff16908260141c60071660051b836280000016156124f0575f510380830160051c60051b83601f16156124ed576020015f81525b5f525b6020013e5b50602001612bf1565b508060a01c61ffff1682600c015160e01c8063a85f1d24146129a55780634df86adf146128c057806305ec9cad14612a605780639b81788b146125a85780638bceaa181461260b57806384f16ca01461266d57806395b66162146126d05780639a23842e146127325780634fae2f2314612796578063a9f2812f146127f9578063f93a17161461285d578063fcccdd9814612b6c5780631e00cebd14612ba1576199995f5260205ffd5b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa156125e5579050806020015190516125ea565b50505f5f5b9082026127100291900390910290046001015f516020019081525f52612be0565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa156126485790508060200151905161264d565b50505f5f5b82026127100291900390910290046001015f516020019081525f52612be0565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa156126aa579050806020015190516126af565b50505f5f5b9090919092029182029190612710020190045f516020019081525f52612be0565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa1561270d57905080602001519051612712565b50505f5f5b90919092029182029190612710020190045f516020019081525f52612be0565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa1561277057905080602001519051612775565b50505f5f5b9082026127100291900390910290046001015f516020019081525f52612be0565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa156127d4579050806020015190516127d9565b50505f5f5b82026127100291900390910290046001015f516020019081525f52612be0565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa156128375790508060200151905161283c565b50505f5f5b9090919092029182029190612710020190045f516020019081525f52612be0565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa1561289b579050806020015190516128a0565b50505f5f5b90919092029182029190612710020190045f516020019081525f52612be0565b5083600c0180600401518160240151826044015182610100516370a082318152308160200152602081602483601c01855afa15612d3c5751801561290357600190035b80841115612961577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b85606401516101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af1505050801561299c575f5f5f5f84415af1505b50505050612be0565b5083600c0180600401518160240151826044015182610100516370a082318152308160200152602081602483601c01855afa15612d3c575180156129e857600190035b80841115612a46577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50508015612a58575f5f5f5f84415af1505b505050612be0565b5083600c0173c02aaa39b223fe8d0a0e5c4f27ead9083c756cc28160040151826024015182610100516370a082318152308160200152602081602483601c01855afa15612d3c57518015612ab357600190035b80841115612b11577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b61010051632e1a7d4d81529081602001525f5f602483601c015f73c02aaa39b223fe8d0a0e5c4f27ead9083c756cc25af150508115612b54575f5f5f5f85415af1505b84604401515f5f5f475f945af1505050505050612be0565b5083600c015f51805f01517f89af0fd11b64392b3a1ab47eb65ae5e5f01335c6fc2ac518b0fc21aa0f7ff8c65f5fa350612be0565b5083600c018060240151906004015160051b5f5180919003517f89af0fd11b64392b3a1ab47eb65ae5e5f01335c6fc2ac518b0fc21aa0f7ff8c65f5fa3505b915050600c01612bf1565b5061ffff015b0181811061170e575b505060205f51f3612d44565b506320c13b0b60e01b5f5260205ff35b50631626ba7e60e01b5f5260205ff35b6084356020013560601c6024358015612c80573361010051630902f1ac8152606081600483601c01855afa15612c6457905080602001519051612c69565b50505f5f5b908202612710029190039091029004600101612cc6565b506044353361010051630902f1ac8152606081600483601c01855afa15612caf57905080602001519051612cb4565b50505f5f5b82026127100291900390910290046001015b336101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af15050505f5ff35b6020013560601c600435805f9012612d0857612d0d565b506024355b336101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af15050505f5ff35b5f5ff35b3d5f5f3e3d5ffd5b").unwrap();
    //static ref NO_OWNER_CODE : Vec<u8> = hex::decode("36156142b8575f3560e01c80632847241714611668578063fa461e3314612bd357806323a69e7514612bd35780638b4187131461166057806320c13b0b146141865780631626ba7e14614196578063f04f2707146100ec57806391dd734614611670578063923b8a2a14612bb25750606435806080146100b7575060443580606014612bd35750600435806020146100af5750602435806040146100af57506084358060a0146100af57506142b8565b600401612c55565b80600401356014146141a6575060243580156100d5576020526100dd565b506044356020525b60205f52606435600401612c55565b5060643560040180358091602001610120375961010052610120016101205b8080518060f01c8061800016151561020057828260b01c62ffffff1680156101bc578062ffffff146101bc579081610fff160181600c1c60ff1680156101ba57908260141c60071660051b6020018362800000161561016c57602090035f51035b905b82151561017c5750506101b4565b8260201161019b5781518152602001906020019160209003919061016e565b905160018360031b1b6001900380199116908251161790525b506101be565b505b505b5061ffff16801561160d5780617ffc146102ab5780617ffe14610da25780617ffb1461040e5780617fff14610e2e5780617ffd14610eba5780617ffa14610347575b508060b01c697fffffffffffffffffff1691908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af1156142bc579491505015156102a1578060c81c62ffffff16801561029f578062ffffff1461029f5780610fff1681600c1c60ff169082628000001615610285575f51610290565b8260141c60071660051b5b602083068381015f52016020013e5b505b5050602001611613565b505f91908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af1156142bc5794915050151561033d578060c81c62ffffff16801561033b578062ffffff1461033b5780610fff1681600c1c60ff169082628000001615610321575f5161032c565b8260141c60071660051b5b602083068381015f52016020013e5b505b5050602001611613565b508060b01c62ffffff168060141c60071660051b6020018162800000161561037157602090035f51035b51905091908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af1156142bc57949150501515610404578060c81c62ffffff168015610402578062ffffff146104025780610fff1681600c1c60ff1690826280000016156103e8575f516103f3565b8260141c60071660051b5b602083068381015f52016020013e5b505b5050602001611613565b5060a01c61ffff16600c0190600c015b805160f81c8015610d91576010811161053d57806001146104a757806002146104b257806003146104bd57806004146104c857806005146104d357806006146104de57806007146104e957806008146104f45780600a146105075780600b146105105780600c146105195780600d146105225780600e1461052b5780600f146105345750610d91565b506020516001610d89565b506040516001610d89565b506060516001610d89565b506080516001610d89565b5060a0516001610d89565b5060c0516001610d89565b5060e0516001610d89565b505f51805190602090035f526001610d89565b50476001610d89565b50416001610d89565b50426001610d89565b50436001610d89565b50486001610d89565b503a6001610d89565b602081101561067c57806011146105c457806012146105cf57806013146105da57806014146105e557806015146105f057806016146105fb57806017146106065780601814610611578060191461061c5780601a146106265780601b1461063a5780601c1461064e5780601d1461065b5780601e146106685780601f146106725750610d91565b509190016001610d89565b509190036001610d89565b509190026001610d89565b509190046001610d89565b509190056001610d89565b509190166001610d89565b509190176001610d89565b509190186001610d89565b5090196001610d89565b50806001015160f81c9091901b6002610d89565b50806001015160f81c9091901c6002610d89565b5090600190016001610d89565b5090600190036001610d89565b5091036001610d89565b5091046001610d89565b60308110156107b257806020146106cb57806021146106dc57806022146106ec57806023146107105780602414610727578060251461074457806026146107635780602a146107865750610d91565b5080600101516021610d8956610d91565b50806001015160ff166002610d89565b50806001015161ffff166003610d89565b50806001015163ffffffff166005610d89565b50806001015167ffffffffffffffff166009610d89565b5080600101516dffffffffffffffffffffffffffff166007610d89565b5080600101516fffffffffffffffffffffffffffffffff166009610d89565b50806001015173ffffffffffffffffffffffffffffffffffffffff16600d610d89565b50907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff90026001610d89565b603081101561087057806031146107e957806032146107f4578060331461080e578060341461082057806035146108385750610d91565b5060ff166001610d89565b5061ffff166001610d89565b5063ffffffff166001610d89565b5067ffffffffffffffff166001610d89565b506dffffffffffffffffffffffffffff166001610d89565b506fffffffffffffffffffffffffffffffff166001610d89565b5073ffffffffffffffffffffffffffffffffffffffff166001610d89565b6050811015610d0357806040146108ff578060411461096757806042146109ce5780604314610a365780604414610a9d5780604514610b055780604614610b6c5780604714610bd15780604814610c375780604914610c515780604a14610c6a5780604b14610c845780604c14610c9d5780604d14610cb75780604e14610cd05780604f14610ce75750610d91565b50919014156109115760016001610d89565b7f455100000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b509190146109785760016001610d89565b7f4e4551000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919010156109e05760016001610d89565b7f4c5400000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919010610a475760016001610d89565b7f475445000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901115610aaf5760016001610d89565b7f475400000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919011610b165760016001610d89565b7f4c5445000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5090610b7b5760016001610d89565b7f5a5200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b509015610be15760016001610d89565b7f4e5a52000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901415610c495760016001610d89565b5f5f5260205ff35b50919014610c625760016001610d89565b5f5f5260205ff35b5091901015610c7c5760016001610d89565b5f5f5260205ff35b50919010610c955760016001610d89565b5f5f5260205ff35b5091901115610caf5760016001610d89565b5f5f5260205ff35b50919011610cc85760016001610d89565b5f5f5260205ff35b5090610cdf5760016001610d89565b5f5f5260205ff35b509015610cf75760016001610d89565b5f5f5260205ff3610d91565b6060811015610d835780605014610d225780605114610d565750610d91565b50806001015160f81c8060051b5f5103805f525f5b9060200190815101916001900391821515610d37579150506002610d89565b50806001015160f81c5f515f5b815101906020900390916001900391821515610d63579150506002610d89565b50610d91565b90910161041e565b50505f516020019081525f52611613565b508073ffffffffffffffffffffffffffffffffffffffff168160a01c61ffff165f5f8260208701855afa156142bc5792505060c81c62ffffff168015610e25578062ffffff14610e255780610fff1681600c1c60ff169082628000001615610e0b575f51610e16565b8260141c60071660051b5b602083068381015f52016020013e5b50602001611613565b508073ffffffffffffffffffffffffffffffffffffffff168160a01c61ffff165f5f8260208701855af4156142bc5792505060c81c62ffffff168015610eb1578062ffffff14610eb15780610fff1681600c1c60ff169082628000001615610e97575f51610ea2565b8260141c60071660051b5b602083068381015f52016020013e5b50602001611613565b508060a01c61ffff1682600c015160e01c8063a85f1d24146113775780634df86adf1461129257806305ec9cad146114325780639b81788b14610f7a5780638bceaa1814610fdd57806384f16ca01461103f57806395b66162146110a25780639a23842e146111045780634fae2f2314611168578063a9f2812f146111cb578063f93a17161461122f578063fe9bf13d1461153e578063fcccdd98146115725780631e00cebd146115a75780630a6c13bf146115ea576199995f5260205ffd5b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa15610fb757905080602001519051610fbc565b50505f5f5b9082026127100291900390910290046001015f516020019081525f52611602565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa1561101a5790508060200151905161101f565b50505f5f5b82026127100291900390910290046001015f516020019081525f52611602565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa1561107c57905080602001519051611081565b50505f5f5b9090919092029182029190612710020190045f516020019081525f52611602565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa156110df579050806020015190516110e4565b50505f5f5b90919092029182029190612710020190045f516020019081525f52611602565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa1561114257905080602001519051611147565b50505f5f5b9082026127100291900390910290046001015f516020019081525f52611602565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa156111a6579050806020015190516111ab565b50505f5f5b82026127100291900390910290046001015f516020019081525f52611602565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa156112095790508060200151905161120e565b50505f5f5b9090919092029182029190612710020190045f516020019081525f52611602565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa1561126d57905080602001519051611272565b50505f5f5b90919092029182029190612710020190045f516020019081525f52611602565b5083600c0180600401518160240151826044015182610100516370a082318152308160200152602081602483601c01855afa156142bc575180156112d557600190035b80841115611333577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b85606401516101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af1505050801561136e575f5f5f5f84415af1505b50505050611602565b5083600c0180600401518160240151826044015182610100516370a082318152308160200152602081602483601c01855afa156142bc575180156113ba57600190035b80841115611418577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5050801561142a575f5f5f5f84415af1505b505050611602565b5083600c0173c02aaa39b223fe8d0a0e5c4f27ead9083c756cc28160040151826024015182610100516370a082318152308160200152602081602483601c01855afa156142bc5751801561148557600190035b808411156114e3577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b61010051632e1a7d4d81529081602001525f5f602483601c015f73c02aaa39b223fe8d0a0e5c4f27ead9083c756cc25af150508115611526575f5f5f5f85415af1505b84604401515f5f5f475f945af1505050505050611602565b5083600c0180600401517f4bc761c3621ed10674d0b96fcf93f708ec089e64acf91cec204e8e5e6bc415685f5fa250611602565b5083600c015f51805f01517f89af0fd11b64392b3a1ab47eb65ae5e5f01335c6fc2ac518b0fc21aa0f7ff8c65f5fa350611602565b5083600c018060240151906004015160051b5f5180919003517f89af0fd11b64392b3a1ab47eb65ae5e5f01335c6fc2ac518b0fc21aa0f7ff8c65f5fa350611602565b5083600c018060040151600160ff1b1760045260245ffd5b915050600c01611613565b5061ffff015b0181811061010b575b505060043560240135602435602401356044356024013501336101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af15050506142c4565b506084612c55565b506024612c55565b50602480358091602001610120375961010052610120016101205b8080518060f01c8061800016151561178057828260b01c62ffffff16801561173c578062ffffff1461173c579081610fff160181600c1c60ff16801561173a57908260141c60071660051b602001836280000016156116ec57602090035f51035b905b8215156116fc575050611734565b8260201161171b578151815260200190602001916020900391906116ee565b905160018360031b1b6001900380199116908251161790525b5061173e565b505b505b5061ffff168015612b8d5780617ffc1461182b5780617ffe146123225780617ffb1461198e5780617fff146123ae5780617ffd1461243a5780617ffa146118c7575b508060b01c697fffffffffffffffffff1691908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af1156142bc57949150501515611821578060c81c62ffffff16801561181f578062ffffff1461181f5780610fff1681600c1c60ff169082628000001615611805575f51611810565b8260141c60071660051b5b602083068381015f52016020013e5b505b5050602001612b93565b505f91908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af1156142bc579491505015156118bd578060c81c62ffffff1680156118bb578062ffffff146118bb5780610fff1681600c1c60ff1690826280000016156118a1575f516118ac565b8260141c60071660051b5b602083068381015f52016020013e5b505b5050602001612b93565b508060b01c62ffffff168060141c60071660051b602001816280000016156118f157602090035f51035b51905091908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af1156142bc57949150501515611984578060c81c62ffffff168015611982578062ffffff146119825780610fff1681600c1c60ff169082628000001615611968575f51611973565b8260141c60071660051b5b602083068381015f52016020013e5b505b5050602001612b93565b5060a01c61ffff16600c0190600c015b805160f81c80156123115760108111611abd5780600114611a275780600214611a325780600314611a3d5780600414611a485780600514611a535780600614611a5e5780600714611a695780600814611a745780600a14611a875780600b14611a905780600c14611a995780600d14611aa25780600e14611aab5780600f14611ab45750612311565b506020516001612309565b506040516001612309565b506060516001612309565b506080516001612309565b5060a0516001612309565b5060c0516001612309565b5060e0516001612309565b505f51805190602090035f526001612309565b50476001612309565b50416001612309565b50426001612309565b50436001612309565b50486001612309565b503a6001612309565b6020811015611bfc5780601114611b445780601214611b4f5780601314611b5a5780601414611b655780601514611b705780601614611b7b5780601714611b865780601814611b915780601914611b9c5780601a14611ba65780601b14611bba5780601c14611bce5780601d14611bdb5780601e14611be85780601f14611bf25750612311565b509190016001612309565b509190036001612309565b509190026001612309565b509190046001612309565b509190056001612309565b509190166001612309565b509190176001612309565b509190186001612309565b5090196001612309565b50806001015160f81c9091901b6002612309565b50806001015160f81c9091901c6002612309565b5090600190016001612309565b5090600190036001612309565b5091036001612309565b5091046001612309565b6030811015611d325780602014611c4b5780602114611c5c5780602214611c6c5780602314611c905780602414611ca75780602514611cc45780602614611ce35780602a14611d065750612311565b508060010151602161230956612311565b50806001015160ff166002612309565b50806001015161ffff166003612309565b50806001015163ffffffff166005612309565b50806001015167ffffffffffffffff166009612309565b5080600101516dffffffffffffffffffffffffffff166007612309565b5080600101516fffffffffffffffffffffffffffffffff166009612309565b50806001015173ffffffffffffffffffffffffffffffffffffffff16600d612309565b50907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff90026001612309565b6030811015611df05780603114611d695780603214611d745780603314611d8e5780603414611da05780603514611db85750612311565b5060ff166001612309565b5061ffff166001612309565b5063ffffffff166001612309565b5067ffffffffffffffff166001612309565b506dffffffffffffffffffffffffffff166001612309565b506fffffffffffffffffffffffffffffffff166001612309565b5073ffffffffffffffffffffffffffffffffffffffff166001612309565b60508110156122835780604014611e7f5780604114611ee75780604214611f4e5780604314611fb6578060441461201d578060451461208557806046146120ec578060471461215157806048146121b757806049146121d15780604a146121ea5780604b146122045780604c1461221d5780604d146122375780604e146122505780604f146122675750612311565b5091901415611e915760016001612309565b7f455100000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919014611ef85760016001612309565b7f4e4551000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901015611f605760016001612309565b7f4c5400000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919010611fc75760016001612309565b7f475445000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b509190111561202f5760016001612309565b7f475400000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b509190116120965760016001612309565b7f4c5445000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50906120fb5760016001612309565b7f5a5200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5090156121615760016001612309565b7f4e5a52000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919014156121c95760016001612309565b5f5f5260205ff35b509190146121e25760016001612309565b5f5f5260205ff35b50919010156121fc5760016001612309565b5f5f5260205ff35b509190106122155760016001612309565b5f5f5260205ff35b509190111561222f5760016001612309565b5f5f5260205ff35b509190116122485760016001612309565b5f5f5260205ff35b509061225f5760016001612309565b5f5f5260205ff35b5090156122775760016001612309565b5f5f5260205ff3612311565b606081101561230357806050146122a257806051146122d65750612311565b50806001015160f81c8060051b5f5103805f525f5b90602001908151019160019003918215156122b7579150506002612309565b50806001015160f81c5f515f5b8151019060209003909160019003918215156122e3579150506002612309565b50612311565b90910161199e565b50505f516020019081525f52612b93565b508073ffffffffffffffffffffffffffffffffffffffff168160a01c61ffff165f5f8260208701855afa156142bc5792505060c81c62ffffff1680156123a5578062ffffff146123a55780610fff1681600c1c60ff16908262800000161561238b575f51612396565b8260141c60071660051b5b602083068381015f52016020013e5b50602001612b93565b508073ffffffffffffffffffffffffffffffffffffffff168160a01c61ffff165f5f8260208701855af4156142bc5792505060c81c62ffffff168015612431578062ffffff146124315780610fff1681600c1c60ff169082628000001615612417575f51612422565b8260141c60071660051b5b602083068381015f52016020013e5b50602001612b93565b508060a01c61ffff1682600c015160e01c8063a85f1d24146128f75780634df86adf1461281257806305ec9cad146129b25780639b81788b146124fa5780638bceaa181461255d57806384f16ca0146125bf57806395b66162146126225780639a23842e146126845780634fae2f23146126e8578063a9f2812f1461274b578063f93a1716146127af578063fe9bf13d14612abe578063fcccdd9814612af25780631e00cebd14612b275780630a6c13bf14612b6a576199995f5260205ffd5b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa156125375790508060200151905161253c565b50505f5f5b9082026127100291900390910290046001015f516020019081525f52612b82565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa1561259a5790508060200151905161259f565b50505f5f5b82026127100291900390910290046001015f516020019081525f52612b82565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa156125fc57905080602001519051612601565b50505f5f5b9090919092029182029190612710020190045f516020019081525f52612b82565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa1561265f57905080602001519051612664565b50505f5f5b90919092029182029190612710020190045f516020019081525f52612b82565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa156126c2579050806020015190516126c7565b50505f5f5b9082026127100291900390910290046001015f516020019081525f52612b82565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa156127265790508060200151905161272b565b50505f5f5b82026127100291900390910290046001015f516020019081525f52612b82565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa156127895790508060200151905161278e565b50505f5f5b9090919092029182029190612710020190045f516020019081525f52612b82565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa156127ed579050806020015190516127f2565b50505f5f5b90919092029182029190612710020190045f516020019081525f52612b82565b5083600c0180600401518160240151826044015182610100516370a082318152308160200152602081602483601c01855afa156142bc5751801561285557600190035b808411156128b3577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b85606401516101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af150505080156128ee575f5f5f5f84415af1505b50505050612b82565b5083600c0180600401518160240151826044015182610100516370a082318152308160200152602081602483601c01855afa156142bc5751801561293a57600190035b80841115612998577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b505080156129aa575f5f5f5f84415af1505b505050612b82565b5083600c0173c02aaa39b223fe8d0a0e5c4f27ead9083c756cc28160040151826024015182610100516370a082318152308160200152602081602483601c01855afa156142bc57518015612a0557600190035b80841115612a63577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b61010051632e1a7d4d81529081602001525f5f602483601c015f73c02aaa39b223fe8d0a0e5c4f27ead9083c756cc25af150508115612aa6575f5f5f5f85415af1505b84604401515f5f5f475f945af1505050505050612b82565b5083600c0180600401517f4bc761c3621ed10674d0b96fcf93f708ec089e64acf91cec204e8e5e6bc415685f5fa250612b82565b5083600c015f51805f01517f89af0fd11b64392b3a1ab47eb65ae5e5f01335c6fc2ac518b0fc21aa0f7ff8c65f5fa350612b82565b5083600c018060240151906004015160051b5f5180919003517f89af0fd11b64392b3a1ab47eb65ae5e5f01335c6fc2ac518b0fc21aa0f7ff8c65f5fa350612b82565b5083600c018060040151600160ff1b1760045260245ffd5b915050600c01612b93565b5061ffff015b0181811061168b575b50505f515160205f52602060205260405260605ff35b60443560040180356014146142715750600435604052602435602052612c4a565b50604435600401803560141461427157506004355f8112612c1e576040526024357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff02602052612c4a565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff026020526024356040525b60405f526044356004015b80358091602001610120375961010052610120016101205b8080518060f01c80618000161515612d6257828260b01c62ffffff168015612d1e578062ffffff14612d1e579081610fff160181600c1c60ff168015612d1c57908260141c60071660051b60200183628000001615612cce57602090035f51035b905b821515612cde575050612d16565b82602011612cfd57815181526020019060200191602090039190612cd0565b905160018360031b1b6001900380199116908251161790525b50612d20565b505b505b5061ffff16801561416f5780617ffc14612e0d5780617ffe146139045780617ffb14612f705780617fff146139905780617ffd14613a1c5780617ffa14612ea9575b508060b01c697fffffffffffffffffff1691908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af1156142bc57949150501515612e03578060c81c62ffffff168015612e01578062ffffff14612e015780610fff1681600c1c60ff169082628000001615612de7575f51612df2565b8260141c60071660051b5b602083068381015f52016020013e5b505b5050602001614175565b505f91908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af1156142bc57949150501515612e9f578060c81c62ffffff168015612e9d578062ffffff14612e9d5780610fff1681600c1c60ff169082628000001615612e83575f51612e8e565b8260141c60071660051b5b602083068381015f52016020013e5b505b5050602001614175565b508060b01c62ffffff168060141c60071660051b60200181628000001615612ed357602090035f51035b51905091908073ffffffffffffffffffffffffffffffffffffffff16818060a01c61ffff165f5f826020880189875af1156142bc57949150501515612f66578060c81c62ffffff168015612f64578062ffffff14612f645780610fff1681600c1c60ff169082628000001615612f4a575f51612f55565b8260141c60071660051b5b602083068381015f52016020013e5b505b5050602001614175565b5060a01c61ffff16600c0190600c015b805160f81c80156138f3576010811161309f57806001146130095780600214613014578060031461301f578060041461302a57806005146130355780600614613040578060071461304b57806008146130565780600a146130695780600b146130725780600c1461307b5780600d146130845780600e1461308d5780600f1461309657506138f3565b5060205160016138eb565b5060405160016138eb565b5060605160016138eb565b5060805160016138eb565b5060a05160016138eb565b5060c05160016138eb565b5060e05160016138eb565b505f51805190602090035f5260016138eb565b504760016138eb565b504160016138eb565b504260016138eb565b504360016138eb565b504860016138eb565b503a60016138eb565b60208110156131de57806011146131265780601214613131578060131461313c57806014146131475780601514613152578060161461315d57806017146131685780601814613173578060191461317e5780601a146131885780601b1461319c5780601c146131b05780601d146131bd5780601e146131ca5780601f146131d457506138f3565b5091900160016138eb565b5091900360016138eb565b5091900260016138eb565b5091900460016138eb565b5091900560016138eb565b5091901660016138eb565b5091901760016138eb565b5091901860016138eb565b50901960016138eb565b50806001015160f81c9091901b60026138eb565b50806001015160f81c9091901c60026138eb565b50906001900160016138eb565b50906001900360016138eb565b50910360016138eb565b50910460016138eb565b6030811015613314578060201461322d578060211461323e578060221461324e5780602314613272578060241461328957806025146132a657806026146132c55780602a146132e857506138f3565b50806001015160216138eb566138f3565b50806001015160ff1660026138eb565b50806001015161ffff1660036138eb565b50806001015163ffffffff1660056138eb565b50806001015167ffffffffffffffff1660096138eb565b5080600101516dffffffffffffffffffffffffffff1660076138eb565b5080600101516fffffffffffffffffffffffffffffffff1660096138eb565b50806001015173ffffffffffffffffffffffffffffffffffffffff16600d6138eb565b50907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff900260016138eb565b60308110156133d2578060311461334b578060321461335657806033146133705780603414613382578060351461339a57506138f3565b5060ff1660016138eb565b5061ffff1660016138eb565b5063ffffffff1660016138eb565b5067ffffffffffffffff1660016138eb565b506dffffffffffffffffffffffffffff1660016138eb565b506fffffffffffffffffffffffffffffffff1660016138eb565b5073ffffffffffffffffffffffffffffffffffffffff1660016138eb565b6050811015613865578060401461346157806041146134c95780604214613530578060431461359857806044146135ff578060451461366757806046146136ce5780604714613733578060481461379957806049146137b35780604a146137cc5780604b146137e65780604c146137ff5780604d146138195780604e146138325780604f1461384957506138f3565b509190141561347357600160016138eb565b7f455100000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b509190146134da57600160016138eb565b7f4e4551000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b509190101561354257600160016138eb565b7f4c5400000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b509190106135a957600160016138eb565b7f475445000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b509190111561361157600160016138eb565b7f475400000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b5091901161367857600160016138eb565b7f4c5445000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50906136dd57600160016138eb565b7f5a5200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50901561374357600160016138eb565b7f4e5a52000000000000000000000000000000000000000000000000000000000060037f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50919014156137ab57600160016138eb565b5f5f5260205ff35b509190146137c457600160016138eb565b5f5f5260205ff35b50919010156137de57600160016138eb565b5f5f5260205ff35b509190106137f757600160016138eb565b5f5f5260205ff35b509190111561381157600160016138eb565b5f5f5260205ff35b5091901161382a57600160016138eb565b5f5f5260205ff35b509061384157600160016138eb565b5f5f5260205ff35b50901561385957600160016138eb565b5f5f5260205ff36138f3565b60608110156138e5578060501461388457806051146138b857506138f3565b50806001015160f81c8060051b5f5103805f525f5b90602001908151019160019003918215156138995791505060026138eb565b50806001015160f81c5f515f5b8151019060209003909160019003918215156138c55791505060026138eb565b506138f3565b909101612f80565b50505f516020019081525f52614175565b508073ffffffffffffffffffffffffffffffffffffffff168160a01c61ffff165f5f8260208701855afa156142bc5792505060c81c62ffffff168015613987578062ffffff146139875780610fff1681600c1c60ff16908262800000161561396d575f51613978565b8260141c60071660051b5b602083068381015f52016020013e5b50602001614175565b508073ffffffffffffffffffffffffffffffffffffffff168160a01c61ffff165f5f8260208701855af4156142bc5792505060c81c62ffffff168015613a13578062ffffff14613a135780610fff1681600c1c60ff1690826280000016156139f9575f51613a04565b8260141c60071660051b5b602083068381015f52016020013e5b50602001614175565b508060a01c61ffff1682600c015160e01c8063a85f1d2414613ed95780634df86adf14613df457806305ec9cad14613f945780639b81788b14613adc5780638bceaa1814613b3f57806384f16ca014613ba157806395b6616214613c045780639a23842e14613c665780634fae2f2314613cca578063a9f2812f14613d2d578063f93a171614613d91578063fe9bf13d146140a0578063fcccdd98146140d45780631e00cebd146141095780630a6c13bf1461414c576199995f5260205ffd5b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa15613b1957905080602001519051613b1e565b50505f5f5b9082026127100291900390910290046001015f516020019081525f52614164565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa15613b7c57905080602001519051613b81565b50505f5f5b82026127100291900390910290046001015f516020019081525f52614164565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa15613bde57905080602001519051613be3565b50505f5f5b9090919092029182029190612710020190045f516020019081525f52614164565b5083600c016126f2908060240151906004015161010051630902f1ac8152606081600483601c01855afa15613c4157905080602001519051613c46565b50505f5f5b90919092029182029190612710020190045f516020019081525f52614164565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa15613ca457905080602001519051613ca9565b50505f5f5b9082026127100291900390910290046001015f516020019081525f52614164565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa15613d0857905080602001519051613d0d565b50505f5f5b82026127100291900390910290046001015f516020019081525f52614164565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa15613d6b57905080602001519051613d70565b50505f5f5b9090919092029182029190612710020190045f516020019081525f52614164565b5083600c0180602401518160440151916004015161010051630902f1ac8152606081600483601c01855afa15613dcf57905080602001519051613dd4565b50505f5f5b90919092029182029190612710020190045f516020019081525f52614164565b5083600c0180600401518160240151826044015182610100516370a082318152308160200152602081602483601c01855afa156142bc57518015613e3757600190035b80841115613e95577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b85606401516101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af15050508015613ed0575f5f5f5f84415af1505b50505050614164565b5083600c0180600401518160240151826044015182610100516370a082318152308160200152602081602483601c01855afa156142bc57518015613f1c57600190035b80841115613f7a577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b50508015613f8c575f5f5f5f84415af1505b505050614164565b5083600c0173c02aaa39b223fe8d0a0e5c4f27ead9083c756cc28160040151826024015182610100516370a082318152308160200152602081602483601c01855afa156142bc57518015613fe757600190035b80841115614045577f424200000000000000000000000000000000000000000000000000000000000060027f08c379a0000000000000000000000000000000000000000000000000000000005f52602060045260245260445260645ffd5b61010051632e1a7d4d81529081602001525f5f602483601c015f73c02aaa39b223fe8d0a0e5c4f27ead9083c756cc25af150508115614088575f5f5f5f85415af1505b84604401515f5f5f475f945af1505050505050614164565b5083600c0180600401517f4bc761c3621ed10674d0b96fcf93f708ec089e64acf91cec204e8e5e6bc415685f5fa250614164565b5083600c015f51805f01517f89af0fd11b64392b3a1ab47eb65ae5e5f01335c6fc2ac518b0fc21aa0f7ff8c65f5fa350614164565b5083600c018060240151906004015160051b5f5180919003517f89af0fd11b64392b3a1ab47eb65ae5e5f01335c6fc2ac518b0fc21aa0f7ff8c65f5fa350614164565b5083600c018060040151600160ff1b1760045260245ffd5b915050600c01614175565b5061ffff015b01818110612c6d575b505060205f51f35b506320c13b0b60e01b5f5260205ff35b50631626ba7e60e01b5f5260205ff35b6084356020013560601c6024358015614200573361010051630902f1ac8152606081600483601c01855afa156141e4579050806020015190516141e9565b50505f5f5b908202612710029190039091029004600101614246565b506044353361010051630902f1ac8152606081600483601c01855afa1561422f57905080602001519051614234565b50505f5f5b82026127100291900390910290046001015b336101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af15050505f5ff35b6020013560601c600435805f90126142885761428d565b506024355b336101005163a9059cbb81529081602001529081604001525f5f604483601c015f865af15050505f5ff35b5f5ff35b3d5f5f3e3d5ffd5b").unwrap();
    static ref NO_OWNER_DEPLOY_PREFIX : Vec<u8> = hex::decode("612c2380600a3d393df3").unwrap();
}
pub const DEFAULT_VIRTUAL_ADDRESS: Address = Address::repeat_byte(0x78);

#[derive(Default)]
pub struct MulticallerDeployer {
    code: Bytes,
    address: Option<Address>,
}

impl MulticallerDeployer {
    pub fn with_address(self, address: Address) -> Self {
        Self { address: Some(address), ..Default::default() }
    }
    pub fn new() -> Self {
        Self { code: Bytes::from(NO_OWNER_CODE.clone()), ..Default::default() }
    }

    pub fn account_info(&self) -> AccountState {
        AccountState { balance: None, code: Some(self.code.clone()), nonce: None, storage: Default::default() }
    }

    pub async fn deploy<P, T>(self, client: P, priv_key: SecretKey) -> Result<Self>
    where
        T: Transport + Clone,
        P: Provider<T, Ethereum> + Send + Sync + Clone + 'static,
    {
        let block = client
            .get_block_by_number(BlockNumberOrTag::Latest, BlockTransactionsKind::Hashes)
            .await
            .map_err(|e| {
                error!("{e}");
                eyre!("CANNOT_GET_BLOCK")
            })?
            .ok_or_eyre("NO_BLOCK")?;

        let header = block.header;

        let next_base_fee =
            BaseFeeParams::ethereum().next_block_base_fee(header.gas_used, header.gas_limit, header.base_fee_per_gas.unwrap_or_default());

        let signer = PrivateKeySigner::from_bytes(&B256::from_slice(priv_key.to_bytes().as_slice()))?;

        let wallet = EthereumWallet::new(signer);

        debug!("{:?} with gas fee {} ", header.number, next_base_fee);

        let signer_address = wallet.default_signer().address();

        let balance = client.get_balance(signer_address).block_id(BlockId::Number(BlockNumberOrTag::Latest)).await.map_err(|e| {
            error!("{e}");
            eyre!("CANNOT_GET_BALANCE")
        })?;

        info!("{} {}", signer_address, balance);
        let nonce =
            client.get_transaction_count(signer_address).block_id(BlockId::Number(BlockNumberOrTag::Latest)).await.map_err(|e| {
                error!("{e}");
                eyre!("CANNOT_GET_NONCE")
            })?;

        let mut tx_request = TransactionRequest::default()
            .gas_limit(3_000_000)
            .transaction_type(2)
            .max_fee_per_gas(next_base_fee as u128)
            .max_priority_fee_per_gas(1)
            .input(TransactionInput::new(self.code.clone()))
            //.to(Address::ZERO)
            .nonce(nonce);
        tx_request.to = Some(TxKind::Create);

        let tx = tx_request.build(&wallet).await.map_err(|e| {
            error!("{e}");
            eyre!("CANNOT_BUILT_TX")
        })?;

        let pending_tx = client.send_raw_transaction(tx.encoded_2718().as_slice()).await.map_err(|e| {
            error!("{e}");
            eyre!("ERROR_SENDING_TX")
        })?;

        let mut block_number = client.get_block_number().await?;

        let final_block = block_number + 10;
        while block_number < final_block {
            let receipt = client.get_transaction_receipt(*pending_tx.tx_hash()).await?;
            if let Some(receipt) = receipt {
                let address = receipt.contract_address.ok_or_eyre("NOT_DEPLOYED")?;
                return Ok(Self { address: Some(address), ..self });
            }
            tokio::time::sleep(Duration::from_secs(12)).await;
            block_number = client.get_block_number().await?;
        }

        Err(eyre!("NO_RECEIPT_FOUND"))
        //let receipt = pending_tx.with_timeout(Some(Duration::new(10, 0))).get_receipt().await.map_err(|_| eyre!("CANNOT_GET_RECEIPT"))?;
        //let receipt = pending_tx.with_timeout(Some(Duration::new(100, 0))).watch().await.map_err(|_| eyre!("CANNOT_GET_RECEIPT"))?;

        //let address = Address::repeat_byte(3);
    }

    pub async fn set_code<P, T>(self, client: P, address: Address) -> Result<Self>
    where
        T: Transport + Clone,
        P: Provider<T, Ethereum> + Send + Sync + Clone + 'static,
    {
        client.anvil_set_code(address, self.code.clone()).await.map_err(|_| eyre!("CANNOT_SET_CODE"))?;

        Ok(Self { address: Some(address), ..self })
    }

    pub fn address(&self) -> Option<Address> {
        self.address
    }
}

#[cfg(test)]
mod test {
    use std::env;
    use std::sync::Arc;

    use loom_node_debug_provider::AnvilDebugProviderFactory;

    use super::*;

    #[tokio::test]
    async fn test_deploy() -> Result<()> {
        let _ = env_logger::try_init_from_env(env_logger::Env::default().default_filter_or("info,loom_multicaller=off"));

        let node_url = env::var("MAINNET_WS")?;

        let anvil_provider = Arc::new(AnvilDebugProviderFactory::from_node_on_block(node_url, 19109956).await?);

        let block = anvil_provider.get_block_by_number(BlockNumberOrTag::Latest, BlockTransactionsKind::Hashes).await?;
        debug!("Block number : {}", block.unwrap().header.number);

        let priv_key = anvil_provider.privkey()?;

        let multicaller = MulticallerDeployer::new();

        let multicaller = multicaller.deploy(anvil_provider.clone(), priv_key).await?;

        assert_ne!(multicaller.address.unwrap_or_default(), Address::ZERO);

        Ok(())
    }
}
